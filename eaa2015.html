<!DOCTYPE html><html><head><title>Big</title><meta charset='utf-8'><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<link href='big.css' rel='stylesheet' type='text/css' />
<style>
  .new-shiny { background: #aaaaaa; }
</style>
<script src='big.js'></script></head><body>

<div>
    <h2>Hacking Archaeology</h2>
    <h3>Building an open API for archaeological data</h3>
    <br />
    <small class='nobreak'>@archaeogeek / Jo Cook / Astun Technology</small>
</div>
<div>
  I'm an ex-archaeologist and GeoGeek,
  <em>Passionate</em> about open source software, open data and open standards,
  (and still <em>very</em> keen on archaeology)
</div>
<div>I was on the team that produced the Urban Archaeological Databases for Lancaster and Carlisle for Oxford Archaeology (North)</div>
<div>UADs are great resources, but often locked away and never really used. The best-case scenario is absorption into the HER.</div>
<div><img src='images/archives.jpg' />
useful?
</div>
<div>My scientific check on this:
  <img src='images/twitter_question.png' /></div>
<div><img src='images/tumbleweed.jpg' />
  The Result
</div>
<div>
  Cue: Beyond the Castle and HackLancaster<br />
  <img src='images/hacklancaster_flyer.jpg' />
</div>
<div>The Brief: Open up the data in the Lancaster UAD for use in a 24hr hackathon<br />
  <img src='images/hack_lanc_logo.jpg' />
</div>
<div>Question: How to achieve this with not a lot of time or money?</div>
<div><img src='images/golden-retriever-and-science1.jpg' /></div>
<div>Primary objective: Beyond the hackathon, whatever we did had to be <em>standards-compliant, update-able, re-usable and sustainable</em> in the long term</div>
<div>The core files comprised:
  <ul>
    <li>a number of spatial datasets (shape files)</li> 
    <li>an access 97 database</li> 
    <li>some historic maps</li>
    <li>several folders full of images</li>
  </ul>
</div>
<div>Job #1: Convert the spatial data and access database into PostgreSQL in a repeatable fashion</div>
<div><p>PostgreSQL was a no-brainer due to it's spatial capabilities. GitHub has a huge number of open source, OS-agnostic libraries for working with MS Access.</p>
  <p>I used the following and combined them into some python scripts for future reuse:</p>
  <ul>
    <li>PyODBC</li>
    <li>csv</li>
    <li>mdbtools</li>
  </ul>
  (see <a  target='_blank' href='https://github.com/archaeogeek/mdb2postgres'>github.com/archaeogeek/mdb2postgres</a>)
</div>
<div>Job #2: Make the spatial data available via a web interface</div>
<div>Again, looking for open source, sustainable, re-usable, I choose Geoserver for this as it has a web-based gui
  <br />
  <img src='images/GeoServer_500.png' />
</div>
<div data-bodyclass='center-image'><img src='images/mackreth1778.png' />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  This also allowed me to create seamless base mapping layers from the historic maps. See the <a target='_blank' href='http://lancasteruadgeo.oxfordarchaeology.com/geoserver/web/?wicket:bookmarkablePage=:org.geoserver.web.demo.MapPreviewPage'>Geoserver layer preview page</a> for all the available layers
</div>
<div>Job #3: Make the non-spatial data available via a web interface</div>
<div>RESTful approaches seemed best, so I found <a target='_blank' href="https://github.com/alixaxel/ArrestDB">ArrestDB</a><br />
  This allowed us to use a simple tablename/attribute format to get at data in a json format, eg <a target='_blank' href='http://lancasteruad.oxfordarchaeology.com/rest/index.php/tblBibliography/?limit=5&by=Doc_Title'>first 5 entries in the bibliography table, ordered by title</a></div>
<div>Job #4: How to do spatial analysis via a web interface?</div>
<div>REST again! <a target='_blank' href="http://maps.co.mecklenburg.nc.us/rest/">Dirt-Simple POSTGIS HTTP API</a></div>
<div>This provided a php-based RESTful interface for getting at PostGIS functions such as buffers, intersects, reprojections etc</div>
<div>Some database manipulation was needed to change references to images, tidy up glitches etc<br />
  These processes were put into a PostgreSQL stored function so they could be repeated if the data was ever updated</div>
<div>Documentation was produced using GitBook<br />
  So it was online and could be updated throughout the hackathon as needed</div>
<div>How did it go?</div>
<div>Two teams of hackers used the data</div>
<div>The first created a map app, allowing people to follow a trail around the City "checking in" to monuments from different periods</div>
<div>The second created a tool visualising the distribution of finds by period and type</div>
<div>Observations</div>
<div><em># 1: UAD data is complicated!</em><br />
  The heavily relational structure is hard to navigate<br />
  The controlled language is difficult to understand.<br />
  <em>Simple</em> questions become <em>complex</em> queries</div>
<div><em># 2: GIS knowledge is specialised</em><br />
  Spatial analytic capability gets ignored<br />
  Data is "fudged" to match google maps when it should be reprojected<br />
  The historic base maps and PostGIS analytical functions were ignored completely!</div>
<div><em># 3: People may jump to tenuous conclusions</em><br />
  Finds classified in ten-year blocks do not imply a peak every decade!</div>
<div>In conclusion, non-archaeologists don't use the data in the way archaeologists expect them to</div>
<div>BUT at least they used the data!</div>
<div><blockquote>&ldquo;The coolest thing to do with your data will be thought of by someone else&rdquo;
</blockquote>
<footer>Rufus Pollock and Jo Walsh, the Open Knowledge Foundation</footer>
</div>
<div>and...<br />
  <blockquote>&ldquo;The set of useful things one can do with a given informational resource is always larger than can be done (or even thought of) by one individual or group&rdquo;
  </blockquote>
  <footer>Rufus Pollock and Jo Walsh, the Open Knowledge Foundation</footer>
</div>
<div>Moving forward</div>
<div>We have a toolkit that could be applied to any UAD to make it available online and for wider use/analysis</div>
<div>All the components are open source, and don't require a huge amount of expertise</div>
<div>Processes can be automated and repeated so the data can be updated</div>
<div>It's totally flexible, so front-ends can be adapted to follow current trends.<br />
 Want to gamify your UAD and produce a Tinder for Monuments? Go ahead!</div>
<div>BUT...</div>
<div>We need a "translation-layer" to turn UAD terminologies and structures into something easier for non-specialists to understand</div>
<div>Deeply relational structures could be flattened into single tables<br />
  But this may bring additional complications<br />
  For updating, querying, displaying etc</div>



<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4e36eb1ef5a1f53d6f000001');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>

</body>
</html>